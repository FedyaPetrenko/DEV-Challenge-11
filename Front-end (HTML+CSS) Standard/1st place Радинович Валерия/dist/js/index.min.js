"use strict";!function(){$(function(){$.each($(".site__menu"),function(){new o($(this))}),$.each($(".location-city"),function(){new e($(this))}),$.each($(".location__map"),function(){new n($(this))}),$.each($(".recent-markets__slider"),function(){new t($(this))}),$.each($(".hero"),function(){new i($(this))})});var o=function(o){var e=this,n=o,t=$("body"),i=$(window),s=$(".site__menu-btn"),a=function(){s.on({click:function(){c($(this))}}),i.on({resize:function(){}})},c=function(o){var e=o;e.hasClass("opened")?(e.removeClass("opened"),n.removeClass("opened"),t.css({overflow:"visible"})):(e.addClass("opened"),n.addClass("opened"),t.css({overflow:"hidden"}))},d=function(){n[0].obj=e,a()};d()},e=function(o){var e=this,n=o,t=n.find(".location-city__selected"),i=function(){t.on({click:function(){s($(this))}}),$(document).on("click",".location-city",function(o){o=o||window.event,o.stopPropagation?o.stopPropagation():o.cancelBubble=!0}),$(document).on("click","body",function(){n.removeClass("opened")})},s=function(o){var e=o;e.parent().hasClass("opened")?e.parent().removeClass("opened"):e.parent().addClass("opened")},a=function(){n[0].obj=e,i()};a()},n=function(o){this.obj=o,this.mapWrap=this.obj;var e,n=this,t=$(".contact__map-info"),i=(t.find(".contact__map-switcher-item"),[]),s=JSON.parse(this.mapWrap.attr("data-map")).marks,a=JSON.parse(this.mapWrap.attr("data-map")).zoom,c=function(){google.maps.event.addDomListener(window,"load",d)},d=function(){var o={zoom:a,scrollwheel:!1,center:new google.maps.LatLng(s[0].poi_latitude,s[0].poi_longitude)};e=new google.maps.Map(n.mapWrap[0],o),r()},r=function(){$.each(s,function(o){var n=this,t=new google.maps.LatLng(n.poi_latitude,n.poi_longitude);i[o]=new google.maps.Marker({position:t,map:e})})},l=function(){c()};l()},t=function(o){var e=o,n=function(){e.slick({arrows:!1,dots:!1,infinite:!1,speed:600,slidesToScroll:1,slidesToShow:3,centerMode:!1,centerPadding:0,touchThreshold:25,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:500,settings:{slidesToShow:1}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:3}}]})},t=function(){n()};t()},i=function(o){var e=o,n=e.find(".hero__slider"),t=e.find(".hero__timeline"),i=function(){n.slick({arrows:!1,dots:!1,infinite:!1,speed:600,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3,slidesToShow:1,centerMode:!1,centerPadding:0,touchThreshold:25,asNavFor:t}),t.slick({arrows:!1,dots:!1,infinite:!1,speed:600,autoplay:!0,autoplaySpeed:3e3,asNavFor:n,slidesToScroll:1,slidesToShow:3,centerMode:!1,centerPadding:0,touchThreshold:25,responsive:[{breakpoint:500,settings:{slidesToShow:1}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:992,settings:{slidesToShow:3}}]})},s=function(){i()};s()}}();

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LmluZGV4LmpzIl0sIm5hbWVzIjpbIiQiLCJlYWNoIiwiTWVudSIsInRoaXMiLCJMb2NhdGlvbkNpdHkiLCJNYXAiLCJSZXNlbnRNYXJrZXRzU2xpZGVyIiwiSGVyb1NsaWRlciIsIm9iaiIsIl9zZWxmIiwiX21lbnUiLCJfYm9keSIsIl93aW5kb3ciLCJ3aW5kb3ciLCJfc2hvd0J0biIsIl9vbkV2ZW50cyIsIm9uIiwiY2xpY2siLCJfb3Blbk1lbnUiLCJyZXNpemUiLCJlbGVtIiwiY3VySXRlbSIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJjc3MiLCJvdmVyZmxvdyIsImFkZENsYXNzIiwiX2luaXQiLCJfb2JqIiwiX3NlbGVjdGVkIiwiZmluZCIsIl9vcGVuTGlzdCIsImRvY3VtZW50IiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJwYXJlbnQiLCJtYXBXcmFwIiwiX21hcCIsIl9tYXBJbmZvV3JhcCIsIl9tYXJrZXJzIiwiX2RhdGEiLCJKU09OIiwicGFyc2UiLCJhdHRyIiwibWFya3MiLCJfem9vbSIsInpvb20iLCJnb29nbGUiLCJtYXBzIiwiYWRkRG9tTGlzdGVuZXIiLCJfaW5pdE1hcCIsIm1hcE9wdGlvbnMiLCJzY3JvbGx3aGVlbCIsImNlbnRlciIsIkxhdExuZyIsInBvaV9sYXRpdHVkZSIsInBvaV9sb25naXR1ZGUiLCJfc2V0TWFya2VycyIsImkiLCJjdXJMYXRMbmciLCJNYXJrZXIiLCJwb3NpdGlvbiIsIm1hcCIsIl9pbml0U2xpZGVyIiwic2xpY2siLCJhcnJvd3MiLCJkb3RzIiwiaW5maW5pdGUiLCJzcGVlZCIsInNsaWRlc1RvU2Nyb2xsIiwic2xpZGVzVG9TaG93IiwiY2VudGVyTW9kZSIsImNlbnRlclBhZGRpbmciLCJ0b3VjaFRocmVzaG9sZCIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGlu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YyxRQU9sQzVDLEVBQVEsV0FDSnFDLElBRVJyQztBQ3JWUiIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKSB7XG5cbiAgICAkKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAkLmVhY2goICQoICcuc2l0ZV9fbWVudScgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBNZW51ICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuICAgICAgICAkLmVhY2goICQoICcubG9jYXRpb24tY2l0eScgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBMb2NhdGlvbkNpdHkgKCAkKCB0aGlzICkgKTtcblxuICAgICAgICB9ICk7XG4gICAgICAgICQuZWFjaCggJCggJy5sb2NhdGlvbl9fbWFwJyApLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgbmV3IE1hcCAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcbiAgICAgICAgJC5lYWNoKCAkKCAnLnJlY2VudC1tYXJrZXRzX19zbGlkZXInICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgUmVzZW50TWFya2V0c1NsaWRlciAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcbiAgICAgICAgJC5lYWNoKCAkKCAnLmhlcm8nICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgSGVyb1NsaWRlciAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0pO1xuXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfbWVudSA9IG9iaixcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfc2hvd0J0biA9ICQoICcuc2l0ZV9fbWVudS1idG4nICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3Nob3dCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbk1lbnUoICQoIHRoaXMgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBfcmVzZXRTdHlsZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbiggZWxlbSApICB7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9IGVsZW07XG5cbiAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgICAgICBfbWVudS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgICAgICBfYm9keS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgICAgIF9tZW51LmFkZENsYXNzKCAnb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgIF9ib2R5LmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXNldFN0eWxlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc2hvd0J0bi5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfbWVudS5yZW1vdmVBdHRyKCAnc3R5bGUnICk7XG4gICAgICAgICAgICAgICAgX2JvZHkuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdyc6ICd2aXNpYmxlJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX21lbnVbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuICAgIHZhciBMb2NhdGlvbkNpdHkgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3NlbGVjdGVkID0gX29iai5maW5kKCcubG9jYXRpb24tY2l0eV9fc2VsZWN0ZWQnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX29uRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc2VsZWN0ZWQub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb3Blbkxpc3QoICQoIHRoaXMgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBcIi5sb2NhdGlvbi1jaXR5XCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBldmVudCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCJib2R5XCIsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuTGlzdCA9IGZ1bmN0aW9uKCBlbGVtICkgIHtcblxuICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gZWxlbTtcblxuICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLnBhcmVudCgpLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucGFyZW50KCkucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucGFyZW50KCkuYWRkQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcbiAgICB2YXIgTWFwID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIHRoaXMub2JqID0gb2JqO1xuICAgICAgICB0aGlzLm1hcFdyYXAgPSB0aGlzLm9iajtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX21hcEluZm9XcmFwID0gJCggJy5jb250YWN0X19tYXAtaW5mbycgKSxcbiAgICAgICAgICAgIF9hZGRyZXNzQnRucyA9IF9tYXBJbmZvV3JhcC5maW5kKCAnLmNvbnRhY3RfX21hcC1zd2l0Y2hlci1pdGVtJyApLFxuICAgICAgICAgICAgX21hcmtlcnMgPSBbXSxcbiAgICAgICAgICAgIF9tYXAsXG4gICAgICAgICAgICBfZGF0YSA9IEpTT04ucGFyc2UodGhpcy5tYXBXcmFwLmF0dHIoJ2RhdGEtbWFwJykpLm1hcmtzLFxuICAgICAgICAgICAgX3pvb20gPSBKU09OLnBhcnNlKHRoaXMubWFwV3JhcC5hdHRyKCdkYXRhLW1hcCcpKS56b29tO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfb25FdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBnb29nbGUubWFwcy5ldmVudC5hZGREb21MaXN0ZW5lciggd2luZG93LCAnbG9hZCcsIF9pbml0TWFwICk7XG5cbiAgICAgICAgICAgICAgICAvLyBfYWRkcmVzc0J0bnMub24oe1xuICAgICAgICAgICAgICAgIC8vICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICBpZiAoICQoIHRoaXMgKS5oYXNDbGFzcyggJ2FjdGl2ZScgKSApIHtcbiAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgX2Nob2ljZUFkZHJlc3MoICQoIHRoaXMgKSApXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdE1hcCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBtYXBPcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICB6b29tOiBfem9vbSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXI6ICBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKF9kYXRhWzBdLnBvaV9sYXRpdHVkZSwgX2RhdGFbMF0ucG9pX2xvbmdpdHVkZSlcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgX21hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoIF9zZWxmLm1hcFdyYXBbMF0sIG1hcE9wdGlvbnMgKTtcblxuICAgICAgICAgICAgICAgIF9zZXRNYXJrZXJzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldE1hcmtlcnMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAkLmVhY2goIF9kYXRhLCBmdW5jdGlvbiAoIGkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGF0TG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyggY3VySXRlbS5wb2lfbGF0aXR1ZGUsIGN1ckl0ZW0ucG9pX2xvbmdpdHVkZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX21hcmtlcnNbIGkgXSA9IG5ldyBnb29nbGUubWFwcy5NYXJrZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IGN1ckxhdExuZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcDogX21hcFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuICAgIHZhciBSZXNlbnRNYXJrZXRzU2xpZGVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfaW5pdFNsaWRlciA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouc2xpY2soIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGluZmluaXRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgc3BlZWQ6IDYwMCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyTW9kZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoVGhyZXNob2xkOiAyNSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDMwMDAsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogOTkyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWRlcigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuICAgIHZhciBIZXJvU2xpZGVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2Jhbm5lclNsaWRlciA9IF9vYmouZmluZCgnLmhlcm9fX3NsaWRlcicpLFxuICAgICAgICAgICAgX3RpbWVsaW5lU2xpZGVyID0gX29iai5maW5kKCcuaGVyb19fdGltZWxpbmUnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2luaXRTbGlkZXIgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfYmFubmVyU2xpZGVyLnNsaWNrKCB7XG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogMzAwMCxcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgdG91Y2hUaHJlc2hvbGQ6IDI1LFxuICAgICAgICAgICAgICAgICAgICBhc05hdkZvcjogX3RpbWVsaW5lU2xpZGVyXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVsaW5lU2xpZGVyLnNsaWNrKCB7XG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbmZpbml0ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkOiA2MDAsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheVNwZWVkOiAzMDAwLFxuICAgICAgICAgICAgICAgICAgICBhc05hdkZvcjogX2Jhbm5lclNsaWRlcixcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgICAgICAgICAgY2VudGVyTW9kZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNlbnRlclBhZGRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgIHRvdWNoVGhyZXNob2xkOiAyNSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3NjgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha3BvaW50OiA5OTIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9pbml0U2xpZGVyKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpO1xuIiwiKCBmdW5jdGlvbigpe1xuXG59ICkoKTsiXX0=
